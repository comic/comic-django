{% load static %}

<div class="container">
  {% for product in products %}
    <div class="row py-4 border-top">
        <div class="col-sm-3">
            <div class="d-flex justify-content-between flex-column h-100">
                <a href="{% url 'ai-website:company_page' pk=product.company.pk %}" title="{{product.company.company_name}}">
                  {% if product.company.logo %}
                    <img src="{{ product.company.logo.url }}" alt="Logo" style="width:70%">
                  {% endif %}
                </a>
                <!--          {% if product.product_img %}-->
                <!--            <a href={{company.website}} title= {{product.company_name}} target="_blank" class="w3-hover-opacity"> <img src={{product.product_img.url}} alt="Logo" style="width:95%" class="w3-hover-opacity"></a>-->
                <!--          {% endif %}-->
                <div class="h6">
                  <span class="text-muted">Subspeciality:</span>
                  <span>{{product.subspeciality}}</span><br>
                  <span class="text-muted">Modality:</span>
                  <span>{{product.modality}}</span>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
          <div class="h6 pb-2"> <a href= "{% url 'ai-website:company_page' pk=product.company.pk %}" title={{product.company.company_name}} >{{ product.company.company_name }}</a></div>
          <div class="h3 font-weight-bold mb-1"> <a href= "{% url 'ai-website:product_page' pk=product.pk %}" title={{product.product_name}}>{{product.product_name}}</a></div>
          <div class="text-muted">
            <p>{{product.key_features_short}}</p></div>
          <p>{{product.description_short}}</p>
<!--      #TODO: truncate instead of artificial truncation?      https://getbootstrap.com/docs/4.0/utilities/text/-->
          <div class="pt-1 pb-2">
              <a href="{% url 'ai-website:product_page' pk=product.pk %}" title="{{product.product_name}}" class="btn btn-square btn-radboud">Read more</a>
          </div>
        </div>

        <div class="col-sm-3 bg-light pt-2">
          <div class="d-flex justify-content-between pb-1">
            <div class="h6">Verified by supplier:</div>
              <img src="{% static product.verified_icon %}" alt="Logo" style="width:10%; height:10%">
<!--            <div>Yes</div>-->
          </div>
          <div class="d-flex justify-content-between pb-1">
            <div class="h6">CE:</div>
              <img src="{% static product.ce_status_icon %}" alt="Logo" style="width:10%; height:10%">
<!--            <div>{{product.ce_status}} {{product.ce_class}}</div>-->
          </div>
          <div class="d-flex justify-content-between pb-1">
            <div class="h6">FDA:</div>
              <img src="{% static product.fda_status_icon %}" alt="Logo" style="width:10%; height:10%">
<!--            <div>{{product.fda_status}} {{product.fda_class}}</div>-->
          </div>

<!--          <div class="d-flex justify-content-between pb-1">-->
<!--            <div class="font-weight-bold">Last updated:</div>-->
<!--            <div>{{product.modified_date}}</div>-->
<!--          </div>-->
        </div>
    </div>
  {% endfor %}
</div>